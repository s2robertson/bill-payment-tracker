{{!--{{#with user}}
<section class="mb-3">
  <h2>Upcoming Bills:</h2>
  <ol class="list-group list-group-flush">
    {{#each upcomingBills}}
      <li class="list-group-item">
        {{> billDetails}}
      </li>
    {{/each}}
  </ol>
</section>
<section class="mb-3">
  <h2>Bill History:</h2>
  <ol class="list-group list-group-flush">
    {{#each pastBills}}
      <li class="list-group-item">
        {{> billDetails}}
      </li>
    {{/each}}
  </ol>
</section>
{{/with}}

{{!--<div class="grid text-center">
  <div class="g-col-6 g-col-md-4">
    <h2>Credit Cards</h2>
    <div class="row"> 
      <p>{{financial_institution}} {{last_4_digits}} </p>
      <p>{{total_due}} {{next_payment_day}} </p>
    </div>
    <button type="button" class="btn btn-success">Add a new credit card</button>
  </div>

  <div class="g-col-6 g-col-md-4">Bills
    {{! Info to display }}
    <button type="button" class="btn btn-success">Add a new bill</button>
  </div>

  <div class="g-col-6 g-col-md-4">Payments
    {{! Info to display }}
    <button type="button" class="btn btn-success">Add a new payment</button>
  </div>
  
</div>--}}

{{!--<script src="/js/loginScript.js"></script>


{{ https://getbootstrap.com/docs/5.3/layout/css-grid/ --}}
{{#with user}}
<h2>Bills</h2>
<button type="button" class="btn btn-success">Add a new bill</button>
<ol class="list-group list-group-flush">
  {{#each bills}}
  <li class="list-group">
      {{!-- {{#if is_next_month due_date}} --}}
      {{> billDetails}}
      {{!-- {{/if}} --}}
  </li>
  {{/each}}
</ol>
{{!-- <div class="col-md-9 col-lg-8 col-xl-7 col-xxl-6">
  <div class="g-col-6">
    <h2>Payments</h2>
      {{#each bills }}
      {{#each payments}}
      <div class="col">
        <p>Your last payment for {{description}} was for ${{this.paid_amount}} on {{format_date
          this.payment_date}}</p>
      </div>
      {{/each}}
    </div>
    {{/each}}
    <button type="button" class="btn btn-success">Add a new payment</button>
  </div>
</div> --}}
{{/with}}
<div id="paymentModal" class="modal" aria-hidden="true" aria-labelledby="">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5">Add Payment</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p id="makePaymentBillInfo"></p>
        <input id="billIdHidden" type="hidden">
        <form>
          <div class="mb-3">
            <label for="makePaymentAmount">Amount:</label>
            <div class="input-group">
              <span class="input-group-text">$</span>
              <input id="paymentAmount" type="number" class="form-control" aria-label="Amount (to the nearest dollar)">
            </div>
          </div>
          <p id="paymentFormFeedback" class="form-text"></p>
          <button id="paymentSubmitButton" class="btn btn-outline-dark">Submit</button>
        </form>
      </div>
    </div>
  </div>
</div>
<script src="/js/paymentModalScript.js"></script>



    {{!-- https://getbootstrap.com/docs/5.3/layout/css-grid/ --}}
